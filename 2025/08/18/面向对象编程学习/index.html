<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>面向对象程序设计 | classical.</title><meta name="author" content="小羊"><meta name="copyright" content="小羊"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="面向对象编程（python）基本理论什么是对象对象是把属性特征等封装起来的一整个物体 python是一门特别彻底的面向对象编程（oop）的语言  graph LR     A[面向对象编程] ---B(基本理论)     B --- C{什么是对象}     C --- D[对象是把属性特征等封装起来的一整个物体]     C --- E[python是一门特别彻底的面向对象编程的语言]">
<meta property="og:type" content="article">
<meta property="og:title" content="面向对象程序设计">
<meta property="og:url" content="http://classical-0.github.io/2025/08/18/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="classical.">
<meta property="og:description" content="面向对象编程（python）基本理论什么是对象对象是把属性特征等封装起来的一整个物体 python是一门特别彻底的面向对象编程（oop）的语言  graph LR     A[面向对象编程] ---B(基本理论)     B --- C{什么是对象}     C --- D[对象是把属性特征等封装起来的一整个物体]     C --- E[python是一门特别彻底的面向对象编程的语言]">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://classical-0.github.io/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250716172926.png">
<meta property="article:published_time" content="2025-08-18T08:12:36.000Z">
<meta property="article:modified_time" content="2025-08-20T10:39:18.348Z">
<meta property="article:author" content="小羊">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://classical-0.github.io/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250716172926.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "面向对象程序设计",
  "url": "http://classical-0.github.io/2025/08/18/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/",
  "image": "http://classical-0.github.io/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250716172926.png",
  "datePublished": "2025-08-18T08:12:36.000Z",
  "dateModified": "2025-08-20T10:39:18.348Z",
  "author": [
    {
      "@type": "Person",
      "name": "小羊",
      "url": "http://classical-0.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://classical-0.github.io/2025/08/18/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '面向对象程序设计',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250716172926.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250716172926.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">classical.</span></a><a class="nav-page-title" href="/"><span class="site-name">面向对象程序设计</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">面向对象程序设计</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-08-18T08:12:36.000Z" title="发表于 2025-08-18 16:12:36">2025-08-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-08-20T10:39:18.348Z" title="更新于 2025-08-20 18:39:18">2025-08-20</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="面向对象编程（python）"><a href="#面向对象编程（python）" class="headerlink" title="面向对象编程（python）"></a>面向对象编程（python）</h1><h2 id="基本理论"><a href="#基本理论" class="headerlink" title="基本理论"></a>基本理论</h2><h3 id="什么是对象"><a href="#什么是对象" class="headerlink" title="什么是对象"></a>什么是对象</h3><p>对象是把属性特征等封装起来的一整个物体</p>
<p>python是一门特别彻底的面向对象编程（oop）的语言</p>
<div class="mermaid">
graph LR
    A[面向对象编程] ---B(基本理论)
    B --- C{什么是对象}
    C --- D[对象是把属性特征等封装起来的一整个物体]
    C --- E[python是一门特别彻底的面向对象编程的语言]
    E --- F[其他语言]
    F --- F1[基本数据类型]
    F1---f1[int]
    F1---f2[float]
    F1---f3[...]
    F---F2[对象类型]
    F2---f22[string]
    F2---f23[Array-数组]
    F2---f24[...]
    E---G[python]
    G---G1[对象类型]
    G1---g1[int]
    G1---g2[float]
    G1---g3[bool]
    G1---g4[list]
    G1---g5[...]
</div> ```


<h3 id="类"><a href="#类" class="headerlink" title="类"></a>类</h3><h4 id="类的作用"><a href="#类的作用" class="headerlink" title="类的作用"></a>类的作用</h4><p>根据抽象的类，生产具体的对象</p>
<h4 id="类的组成"><a href="#类的组成" class="headerlink" title="类的组成"></a>类的组成</h4><p>名称，属性，方法</p>
<h4 id="对象和类的关系"><a href="#对象和类的关系" class="headerlink" title="对象和类的关系"></a>对象和类的关系</h4><p>对象可以抽象出类，类可以实例化对象</p>
<h2 id="面向对象在python中的实践"><a href="#面向对象在python中的实践" class="headerlink" title="面向对象在python中的实践"></a>面向对象在python中的实践</h2><h3 id="如何定义一个类"><a href="#如何定义一个类" class="headerlink" title="如何定义一个类"></a>如何定义一个类</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Money</span>：</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h3 id="根据类实例化对象"><a href="#根据类实例化对象" class="headerlink" title="根据类实例化对象"></a>根据类实例化对象</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">one = Money()</span><br><span class="line"><span class="built_in">print</span>(one)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(one.__class__)  <span class="comment">#根据变量找到对象来源于哪个类</span></span><br></pre></td></tr></table></figure>

<p>类本身也是一个对象，类的类名就是它本身</p>
<h3 id="属性相关"><a href="#属性相关" class="headerlink" title="属性相关"></a>属性相关</h3><h4 id="对象属性"><a href="#对象属性" class="headerlink" title="对象属性"></a>对象属性</h4><p>增加属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">one.age = <span class="number">18</span>  <span class="comment"># one的年龄（属性）是18岁</span></span><br></pre></td></tr></table></figure>

<p>查看属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(one.age) <span class="comment">#得到one的属性是18</span></span><br><span class="line"><span class="built_in">print</span>(one.__dict__) <span class="comment">#得到对象的全部属性</span></span><br></pre></td></tr></table></figure>

<p>更改属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">one.age=<span class="number">11</span> <span class="comment">#年龄更改为11</span></span><br></pre></td></tr></table></figure>

<p>删除属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">del</span> one.age</span><br></pre></td></tr></table></figure>

<h4 id="类属性"><a href="#类属性" class="headerlink" title="类属性"></a>类属性</h4><p>增</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Money.age=<span class="number">11</span>    <span class="comment">#类增加了一个年龄为11的属性（类可作为对象）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Money</span>：</span><br><span class="line">    age=<span class="number">18</span>   <span class="comment">#类增加了一个年龄为18的属性</span></span><br></pre></td></tr></table></figure>

<p>查</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#先打印对象的属性</span></span><br><span class="line"><span class="comment">#对象没有的属性会沿着对象的__class__访问类的属性</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>:</span><br><span class="line">    sex=<span class="string">&quot;女&quot;</span></span><br><span class="line"></span><br><span class="line">one.__class__=Test</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(one.sex)   <span class="comment">#输出“女”</span></span><br><span class="line"><span class="built_in">print</span>(one.age)   <span class="comment">#报错</span></span><br></pre></td></tr></table></figure>

<p>改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> Money.age=<span class="number">22</span>  <span class="comment">#将Money类的age属性改成22</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#无法通过one.age=22更改类的age属性，这样只会更改one所对应的对象的属性</span></span><br></pre></td></tr></table></figure>

<p>删</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">del Money.age   #无法通过删除对象的属性删除类的属性</span><br></pre></td></tr></table></figure>

<p>属性的内存存储：</p>
<p>一般情况下，属性存储在__dict__的字典当中</p>
<p>变量通过访问对象的__dict__属性访问对象的属性，且__dict__属性可修改（__dict__会被单独开辟一片内存存放）</p>
<p>类对象的__dict__属性不可修改</p>
<p> <strong>各个对象共享类属性</strong></p>
<h4 id="限制属性的添加"><a href="#限制属性的添加" class="headerlink" title="限制属性的添加"></a>限制属性的添加</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    __slots__ = [<span class="string">&quot;age&quot;</span>] <span class="comment">#限制person类的对象属性只能为age</span></span><br></pre></td></tr></table></figure>

<h3 id="方法相关"><a href="#方法相关" class="headerlink" title="方法相关"></a>方法相关</h3><div class="mermaid">
graph LR
    A[方法的划分] --- B[实例方法]
    B---B1[默认第一个参数需要接收到一个实例]
    A --- C[类方法]
    C---C1[默认第一个参数需要接受到一个类]
    A --- D[静态方法]
    D---D1[第一个参数不接受]
    A---E[注意]
    E---F1[1.划分的依据是：方法的第一个参数必须要接受的数据类型]
    E---F2[2.不管是哪一种类型的方法，都是存储在类当中；没有在实例当中的]
    E---F3[不同类型的方法的调用方式不同]
</div> ```

<p>  实例方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#格式例子</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self,food</span>):</span><br><span class="line">        <span class="built_in">print</span>(“在吃饭”，food)</span><br><span class="line"></span><br><span class="line"><span class="comment">#标准调用</span></span><br><span class="line">p=person()</span><br><span class="line">p.eat(“土豆”)</span><br><span class="line"></span><br><span class="line"><span class="comment">#输出在吃饭 土豆</span></span><br></pre></td></tr></table></figure>

<p> 类方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">leifangfa</span>(<span class="params">cls,a</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;这是一个类方法&quot;</span>,cls,a)</span><br><span class="line"></span><br><span class="line"><span class="comment">#标准调用：</span></span><br><span class="line">Person.leifangfa(<span class="number">123</span>)</span><br><span class="line"></span><br><span class="line">p.leifangfa(<span class="number">666</span>)<span class="comment">#p实例被忽略，但是会把p实例的类作为第一个参数传入</span></span><br></pre></td></tr></table></figure>

<p>静态方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">jingtai</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;这是一个静态方法&quot;</span>)</span><br><span class="line"></span><br><span class="line">Person.jingtai()</span><br><span class="line">p=Person()</span><br><span class="line">p.jingtai()</span><br></pre></td></tr></table></figure>

<h3 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h3><h4 id="类相关补充"><a href="#类相关补充" class="headerlink" title="类相关补充"></a>类相关补充</h4><h5 id="元类"><a href="#元类" class="headerlink" title="元类"></a>元类</h5><p>元类是创建对象的一个类</p>
<p>类对象的创建方式及创建流程</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;self&quot;</span>)</span><br><span class="line"></span><br><span class="line">a= <span class="built_in">type</span>(<span class="string">&quot;People&quot;</span>,(),&#123;<span class="string">&quot;count:0&quot;</span>,<span class="string">&quot;run&quot;</span>:run&#125;) <span class="comment">#count,run是people类的属性 </span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment">#输出&lt;class &#x27;__main__.People&#x27;&gt;</span></span><br></pre></td></tr></table></figure>

<p>类的创建流程：类中是否有__metaclass__属性-&gt;父类的__metaclass__属性-&gt;模块-&gt;type元类</p>
<h5 id="类的描述"><a href="#类的描述" class="headerlink" title="类的描述"></a>类的描述</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    关于这个类的描述，类的作用，类的构造函数等等；类属性的描述</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment">#表示，代表这个人的个数</span></span><br><span class="line">    count=<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self,distance,step</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        这个方法的作用效果</span></span><br><span class="line"><span class="string">        ：param distance：参数的含义，参数的类型int，是否有默认值</span></span><br><span class="line"><span class="string">        ：param step：</span></span><br><span class="line"><span class="string">        ：return： 返回的结果的含义（时间），返回数据的类型int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;人在跑&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> distance / step</span><br><span class="line">    </span><br><span class="line"><span class="built_in">help</span>(Person) <span class="comment">#看解释文档</span></span><br></pre></td></tr></table></figure>

<p>生成项目文档：</p>
<p>查看文档描述      python3   -m    pydoc   模块名称</p>
<p>启动本地服务，浏览文档     python3  -m  pydoc  -p  1234</p>
<p>生成指定模块html文档     python3   -m  pydoc  -w  模块名称</p>
<h4 id="属性相关补充"><a href="#属性相关补充" class="headerlink" title="属性相关补充"></a>属性相关补充</h4><h5 id="私有化属性"><a href="#私有化属性" class="headerlink" title="私有化属性"></a>私有化属性</h5><div class="mermaid">
graph LR
A1[x] --- A[公有属性]
A --- B[可以类内部访问]
A---C[可以子类内部访问]
A---D[可以模块其他位置访问]
A---E[可以跨模块访问]
E---F[import形式导入]
E---G[from 模块 import *]
</div> ```

<div class="mermaid">
graph LR
A1[_y] --- A[受保护属性]
A --- B[可以类内部访问]
A---C[可以子类内部访问]
A---D[可以模块其他位置访问（警告）]
A---E[可以跨模块访问（警告或禁止）]
E---F[import形式导入（警告）]
E---G[from 模块 import *]
G---G1[有__all__指明对应变量（警告）]
G---G2[没有__all__指明对应变量（禁止）]
</div> ```

<div class="mermaid">
graph LR
A1[__z] --- A[私有属性]
A --- B[可以类内部访问]
A---C[不可以子类内部访问]
A---D[不可以模块其他位置访问（警告）]
A---E[可以跨模块访问（警告或禁止）]
E---F[import形式导入（警告）]
E---G[from 模块 import *]
G---G1[有__all__指明对应变量（警告）]
G---G2[没有__all__指明对应变量（禁止）]
</div> ```

<div class="mermaid">
graph LR
A1[补充] --- A[xx_]
A --- B[跟系统名做区分]
A1---C[__xx__]
C---C1[系统内置名称]
</div> ```

<h5 id="只读属性"><a href="#只读属性" class="headerlink" title="只读属性"></a>只读属性</h5><p><em>概念：只能读取不能修改</em></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#方案一</span></span><br><span class="line"><span class="comment">#全部隐藏，部分公开</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>：</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__age = <span class="number">18</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getAge</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.__age</span><br><span class="line">    </span><br><span class="line">p1 = Person()</span><br><span class="line"><span class="built_in">print</span>(p1.getAge())</span><br></pre></td></tr></table></figure>

<h6 id="property装饰器"><a href="#property装饰器" class="headerlink" title="property装饰器"></a>property装饰器</h6><p>作用一：可以以使用属性的方式来使用这个方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__age = <span class="number">18</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">   @property</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">getAge</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.__age</span><br><span class="line">    </span><br><span class="line">p1 = Person()</span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/classical-0/img/main/15.png" alt="15.png"></p>
<p>作用二：</p>
<p>1.fget:将x属性跟self._x关联起来</p>
<p>2.setx:将x属性跟self._x &#x3D; value关联起来</p>
<p>3.delx:将x属性跟del self._x关联起来</p>
<div class="mermaid">
graph LR
A[类]---A1[经典类]
A---A2[新式类]
A1---A11[不继承object类 ； 2.x默认不继承]
A2---A22[继承object类 ； 3.x默认继承]
</div> ```

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#第一类使用方式（经典类和新式类都能用）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__age = <span class="number">18</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;____,get&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.__age</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_age</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;____,set&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.__age = value</span><br><span class="line">        </span><br><span class="line">    age = <span class="built_in">property</span>(get_age,set_age)</span><br><span class="line">    </span><br><span class="line">p = Person()</span><br><span class="line"><span class="built_in">print</span>(p.age)</span><br><span class="line"></span><br><span class="line">p.age = <span class="number">90</span></span><br><span class="line"><span class="built_in">print</span>(p.age)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">____,get</span></span><br><span class="line"><span class="string">18</span></span><br><span class="line"><span class="string">____,set</span></span><br><span class="line"><span class="string">____,get</span></span><br><span class="line"><span class="string">90</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#第二类使用方式（仅限新式类）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__age = <span class="number">18</span></span><br><span class="line">        </span><br><span class="line"><span class="meta">    @property    </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;____ get&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.__age</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @age.setter  </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self, value</span>):  <span class="comment">#这个方法名可以随意设置</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;____ set&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.__age = value</span><br><span class="line">    </span><br><span class="line">p = Person()</span><br><span class="line"><span class="built_in">print</span>(p.age)</span><br><span class="line"></span><br><span class="line">p.age = <span class="number">10</span>   <span class="comment">#这一行设置age属性</span></span><br><span class="line"><span class="built_in">print</span>(p.age) <span class="comment">#这一行调用age属性return age</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">____ get</span></span><br><span class="line"><span class="string">18</span></span><br><span class="line"><span class="string">____ set</span></span><br><span class="line"><span class="string">____ get</span></span><br><span class="line"><span class="string">10</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>即使使用property仍然可以通过给实例增加属性的方式来伪改变属性的值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#真正只能通过端口设置的方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>：</span><br><span class="line">	<span class="comment">#当我们通过“实例.属性 = 值”，给一个实例增加一个属性，或者说，修改一下属性值的时候，都会调用这个方法</span></span><br><span class="line">    <span class="comment">#在这个方法内部，才会真正的把这个属性以及对应的数据，给存储到__dict__字典里面</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__setattr__</span>(<span class="params">self,key,value</span>):</span><br><span class="line">        <span class="built_in">print</span>(key,value)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#1.判定 key 是否是我们要设置的只读属性的名称</span></span><br><span class="line">		<span class="keyword">if</span> key == <span class="string">&quot;age&quot;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;这个属性是只读属性，不能设置数据&quot;</span>)</span><br><span class="line">        <span class="comment">#2.如果说不是只读属性的名称真正的给它添加到这个实例里面去</span></span><br><span class="line">        <span class="keyword">else</span>：</span><br><span class="line">        	<span class="comment"># self.key = value</span></span><br><span class="line">            <span class="variable language_">self</span>.__dict__[key] = value</span><br><span class="line">            </span><br><span class="line">p1 = Person()</span><br><span class="line">p1.age = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(p1.age)</span><br><span class="line">p1.age = <span class="number">999</span></span><br><span class="line"><span class="built_in">print</span>(p1.age)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">age 18</span></span><br><span class="line"><span class="string">18</span></span><br><span class="line"><span class="string">age 999</span></span><br><span class="line"><span class="string">这个属性是只读属性，不能设置数据</span></span><br><span class="line"><span class="string">18</span></span><br><span class="line"><span class="string">&#123;&#x27;age&#x27;: 18&#125;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h5 id="内置特殊属性"><a href="#内置特殊属性" class="headerlink" title="内置特殊属性"></a>内置特殊属性</h5><div class="mermaid">
graph LR
B[内置特殊属性]---A
A[类属性]---A1[__dict__ : 类的属性]
A---A2[__bases__ : 类的所有父类构成元组]
A---A3[__doc__ : 类的文档字符串]
A---A4[__name__ ： 类名]
A---A5[__module__ : 类定义所在的模块]
B---C1[实例属性]
C1---C2[__dict__ : 实例的属性]
C1---C3[__class__ : 实例对应的类]
</div>

<h4 id="方法相关补充"><a href="#方法相关补充" class="headerlink" title="方法相关补充"></a>方法相关补充</h4><h6 id="私有化方法"><a href="#私有化方法" class="headerlink" title="私有化方法"></a>私有化方法</h6><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    __age = <span class="number">18</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__run</span>(<span class="params">self</span>):  <span class="comment">#私有化方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;pao&quot;</span>)</span><br></pre></td></tr></table></figure>

<h6 id="内置特殊方法"><a href="#内置特殊方法" class="headerlink" title="内置特殊方法"></a>内置特殊方法</h6><div class="mermaid">
graph LR
A[内置特殊方法]---A1[生命周期方法（下一小节单独讲）]
A---B[其他内置方法]
B---B1[信息格式化操作]
B1---B11[__str__方法]
B1---B12[__repr__方法]
B---B2[调用操作]
B2---B21[__call__方法]
B21---作用---B22[使得“对象”具备当做函数，来调用的能力]
B---B3[索引操作]
B---B4[切片操作]
B4---B411[作用]---B41[可以对一个实例对象进行切片操作]
B4---B4222[步骤]---B0[跟索引用的函数一样]
B---B5[比较操作]
B---B7[遍历操作]---B8[for in 遍历]
B7---B9[next迭代器]
B---B6[描述器]---b1[一种实现了特定协议（描述器协议）的对象，用于管理另一个类的属性访问。它能自定义属性的获取、设置和删除行为，是 Python 面向对象编程中实现属性控制的强大工具。]---b2[三个中至少一个方法：1.get ，2.set ，3.delete]
B---b[装饰器]
</div>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#init和str和repr</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n,a</span>):   <span class="comment">#创建实例自动调用init方法给实例赋予属性</span></span><br><span class="line">        <span class="variable language_">self</span>.name = n</span><br><span class="line">        <span class="variable language_">self</span>.age = a</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;这个人的姓名是%s，这个人的年龄是%s&quot;</span>%(<span class="variable language_">self</span>.name,<span class="variable language_">self</span>.age)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__repr__</span>(<span class="params">self</span>):  <span class="comment">#要么用repr来面向开发人员将详细信息输出，要么通过eval（）函数把它再次转化为相关对象</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;reprxxxx&quot;</span></span><br><span class="line">    </span><br><span class="line">p1 = Person(<span class="string">&quot;sz&quot;</span>,<span class="number">18</span>)</span><br><span class="line"><span class="built_in">print</span>(p1)   <span class="comment">#计算机会先检测str有没有规定字符串，如果str没有规定就检测repr有没有规定字符串，没有规定就打印实例的内存地址</span></span><br><span class="line"></span><br><span class="line">p2 = Person(<span class="string">&quot;zhangsan&quot;</span>,<span class="number">19</span>)</span><br><span class="line"><span class="built_in">print</span>(p2)</span><br><span class="line"></span><br><span class="line">s = <span class="built_in">str</span>(p1)  <span class="comment">#外部直接使用str方法，将类型转为字符串</span></span><br><span class="line"><span class="built_in">print</span>(s,<span class="built_in">type</span>(s))  <span class="comment">#查看s的类型</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(p1))   <span class="comment">#当repr未定义时，调用repr方法打印实例类型和内存地址，除了这种调用以外也可用交互模式输入实例名称再按enter键</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">这个人的姓名是sz，这个人的年龄是：18</span></span><br><span class="line"><span class="string">这个人的姓名是zhangsan，这个人的年龄是：19</span></span><br><span class="line"><span class="string">这个人的姓名是sz，这个人的年龄是：18 &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"><span class="string">&lt;__main__.Person object at 0x000000000283E6A0&gt; #repr未定义时</span></span><br><span class="line"><span class="string">reprxxxx  #repr定义时</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#call方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self,*args,**kwargs</span>):  <span class="comment">#args：不定量未指明参数名称参数，以元组形式存储；kwargs：定量指明参数名称，以字典形式储存</span></span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;xxx&quot;</span>)</span><br><span class="line">    </span><br><span class="line">p=Person()</span><br><span class="line"></span><br><span class="line">p()  <span class="comment">#会自动调用call实例方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PenFactory</span>：</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,p_type</span>):</span><br><span class="line">        <span class="variable language_">self</span>.p_type = p_type</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self,p_color</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;创建了一个%s这个类型的画笔，它是%s颜色&quot;</span>)%(<span class="variable language_">self</span>.p_type, <span class="variable language_">self</span>.p_color)</span><br><span class="line">        </span><br><span class="line">qianbiF = PenFactory(<span class="string">&quot;铅笔&quot;</span>) <span class="comment">#创建p_type属性为铅笔的实例</span></span><br><span class="line">qianbiF(<span class="string">&quot;虹色&quot;</span>) <span class="comment">#call函数设置颜色为虹色</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#增删改查</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.cache = &#123;&#125;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__setitem__</span>(<span class="params">self,key,value</span>):</span><br><span class="line">        <span class="variable language_">self</span>.cache[key] = value</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self,key</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.cache[item]</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__delitem__</span>(<span class="params">self,key</span>):</span><br><span class="line">        <span class="keyword">del</span> <span class="variable language_">self</span>.cache[key]</span><br><span class="line">        </span><br><span class="line">p = Person()</span><br><span class="line">p[<span class="string">&quot;name&quot;</span>] = <span class="string">&quot;sz&quot;</span>  <span class="comment">#自动调用setitem方法</span></span><br><span class="line"><span class="built_in">print</span>(p[<span class="string">&quot;name&quot;</span>])  <span class="comment">#自动调用getitem方法</span></span><br><span class="line"><span class="keyword">del</span> p[<span class="string">&quot;name&quot;</span>]   <span class="comment">#自动调用delitem方法</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#切片</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.items = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__setitem__</span>(<span class="params">self,key,value</span>):</span><br><span class="line">        <span class="variable language_">self</span>.items[key] = value</span><br><span class="line">        <span class="comment">#另一种写法</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(key, <span class="built_in">slice</span>): <span class="comment">#确定实例是否是可切片类型</span></span><br><span class="line">        <span class="variable language_">self</span>.items[key.start: key.stop: key.step] = value</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self,key</span>):</span><br><span class="line">        <span class="keyword">pass</span><span class="comment">#没写</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__delitem__</span>(<span class="params">self,key</span>):</span><br><span class="line">        <span class="keyword">pass</span><span class="comment">#没写</span></span><br><span class="line">        </span><br><span class="line">p = Person()</span><br><span class="line">p[<span class="number">0</span>: <span class="number">4</span>: <span class="number">2</span>] = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(p.items)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">[&#x27;a&#x27;, 2, &#x27;b&#x27;, 4, 5, 6, 7, 8]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#比较操作</span></span><br><span class="line"><span class="comment">#import functools</span></span><br><span class="line"><span class="comment">#@functools.total_ordering    这个装饰器可以在只写了一个小于（或其他）方法时，用来补全其他方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, age, height</span>):</span><br><span class="line">        <span class="variable language_">self</span>.age = age</span><br><span class="line">        <span class="variable language_">self</span>.height = height</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__eq__</span>(<span class="params">self,other</span>): <span class="comment">#相等</span></span><br><span class="line">        <span class="built_in">print</span>(other)</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.age == other.age</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__ne__</span>(<span class="params">self,other</span>): <span class="comment">#不相等，没有不相等时，取相等的相反结果</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__gt__</span>(<span class="params">self,other</span>): <span class="comment">#大于，lt是小于</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__ge__</span>(<span class="params">self,other</span>): <span class="comment">#大于等于，le小于等于，不支持叠加操作，大于和小于方法都写了没写大于等于，不等于大于等于方法</span></span><br><span class="line">        <span class="keyword">pass</span>    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__bool__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span>  <span class="comment">#return self.age &gt;= 18  也可通过表达式来确定bool值 </span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> p:  <span class="comment">#根据设置的bool值来判断p真假</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;xx&quot;</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#遍历操作</span></span><br><span class="line"><span class="comment">#方式一</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.result = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, item</span>):   <span class="comment">#调用for..in时先检查iter方法（获取迭代器）有没有实现，没有就检查getitem方法有没有实现，都没实现报错</span></span><br><span class="line">        <span class="variable language_">self</span>.result += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.result &gt;= <span class="number">6</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration(<span class="string">&quot;停止遍历&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.result</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">p = Person()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> p:  <span class="comment">#能通过for in 进行访问的不一定是可迭代对象（只有getitem不属于），但可迭代对象一定可以通过for in进行访问</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#方式二</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.result = <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__iter__</span>(<span class="params">self, item</span>):   <span class="comment">#只有iter不行还得有next才是迭代器</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;iter&quot;</span>)</span><br><span class="line">        <span class="comment">#return iter([1, 2, 3, 4, 5])   iter()函数获取可迭代对象的迭代器</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span> <span class="comment">#返回p本身，p本身就是迭代器</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__next__</span>(<span class="params">self</span>):  <span class="comment">#迭代器一定可以通过next函数进行访问，能通过next函数进行访问的不一定是迭代器</span></span><br><span class="line">        <span class="variable language_">self</span>.result += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="variable language_">self</span>.result &gt;= <span class="number">6</span>:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration(<span class="string">&quot;停止遍历&quot;</span>)   <span class="comment">#获取完迭代器抛出异常终止</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">self</span>.result</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">p = Person()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> p: <span class="comment">#for in调用p中的iter函数获得可迭代对象的迭代器，iter调用next函数获取下一个迭代器</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#print(next(p))  对自己设置的对象进行实例访问只需要自己设置next实例方法而已</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#import collections</span></span><br><span class="line"><span class="comment">#print(isinstance(p,collections.Iterator))   判断p是否是迭代器</span></span><br><span class="line"><span class="comment">#print(isinstance(p,collections.Iterable))   判断p是否是可迭代对象，只有iter方法符合可迭代对象，不符合迭代器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#还有一种用法：iter(callable, sentinel) ，它会不断调用 callable ，直到返回值等于 sentinel 才停止</span></span><br><span class="line"><span class="comment">#iter（）只有一个参数时必须是可迭代对象，两个参数时，第一个参数必须是可调用的</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#描述器第一种</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__age = <span class="number">18</span></span><br><span class="line">        </span><br><span class="line"><span class="meta">    @property    </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.__age</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @age.setter  </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self, value</span>): </span><br><span class="line">        <span class="variable language_">self</span>.__age = value</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @age.deleter</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">del</span> <span class="variable language_">self</span>.__age</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.__age = <span class="number">18</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">get_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;____,get&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.__age</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">set_age</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;____,set&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.__age = value</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">del_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">del</span> <span class="variable language_">self</span>.__age</span><br><span class="line">        </span><br><span class="line">    age = <span class="built_in">property</span>(get_age,set_age,del_age)</span><br><span class="line"></span><br><span class="line"><span class="comment">#方式二</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Age</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__get__</span>(<span class="params">self,instance,owner</span>):  <span class="comment">#self记录的是Age的实例，instance传入的是p实例，也就是Person的实例</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;get&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> instance.v  <span class="comment">#手动给p实例加了一个动态属性v</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__set__</span>(<span class="params">self,instance,value</span>):  <span class="comment">#value会传入想要赋的值，传给p实例的属性</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;set&quot;</span>)  </span><br><span class="line">        instance.v = value</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__delete__</span>(<span class="params">self,instance</span>):</span><br><span class="line">    	<span class="built_in">print</span>(<span class="string">&quot;delete&quot;</span>)</span><br><span class="line">        <span class="keyword">del</span> instance.v</span><br><span class="line">        </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    age = Age()</span><br><span class="line">    </span><br><span class="line">p = Person()</span><br><span class="line"></span><br><span class="line">p.age = <span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(p.age)</span><br><span class="line"><span class="keyword">del</span> p.age</span><br><span class="line"></span><br><span class="line"><span class="comment">#一个类定义了三个方法，另一个类将这个类的实例作为属性，然后这个类的实例调用这个属性，这是描述器的操作方式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#描述器是新式类才能用的</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">资料描述器：get set</span></span><br><span class="line"><span class="string">非资料描述器：仅仅实现了 get </span></span><br><span class="line"><span class="string">资料描述器 &gt; 实例属性 &gt; 非资料描述器</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#类实现装饰器</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">check</span>：</span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, func</span>):</span><br><span class="line">        <span class="variable language_">self</span>.f = func</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, *args, *kwargs</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;登陆验证&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.f()</span><br><span class="line">         </span><br><span class="line"><span class="meta">@check</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fashuoshuo</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;发说说&quot;</span>)</span><br><span class="line">    </span><br><span class="line">fashuoshuo()</span><br></pre></td></tr></table></figure>

<h2 id="Python对象的生命周期，以及周期方法"><a href="#Python对象的生命周期，以及周期方法" class="headerlink" title="Python对象的生命周期，以及周期方法"></a>Python对象的生命周期，以及周期方法</h2><h3 id="监听对象生命周期"><a href="#监听对象生命周期" class="headerlink" title="监听对象生命周期"></a>监听对象生命周期</h3><div class="mermaid">
graph LR
a[监听对象的生命周期的方法]---a1[__new__方法]---a2[创建对象时用于给这个对象分配内存的方法]
a---b[__init__方法]
a---c[__del__方法]
</div>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#案例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>：</span><br><span class="line">	__personcount = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;计数 + 1&quot;</span>)</span><br><span class="line">        Person.__personcount += <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;计数 - 1&quot;</span>)</span><br><span class="line">        <span class="variable language_">self</span>.__class__.__personcount -= <span class="number">1</span></span><br><span class="line">        </span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">log</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;当前的人数是%d个&quot;</span>%Person.__personccount)</span><br><span class="line">        </span><br><span class="line">Person.personcount = <span class="number">100</span></span><br><span class="line">p = Person()</span><br><span class="line">p2 = Person()</span><br><span class="line">Person.log()</span><br><span class="line"><span class="keyword">del</span> p</span><br><span class="line"><span class="keyword">del</span> p2</span><br><span class="line">Person.log()</span><br></pre></td></tr></table></figure>

<h3 id="内存管理机制"><a href="#内存管理机制" class="headerlink" title="内存管理机制"></a>内存管理机制</h3><h4 id="垃圾回收方面"><a href="#垃圾回收方面" class="headerlink" title="垃圾回收方面"></a>垃圾回收方面</h4><h5 id="引用计数器：一个对象，记录自身被引用的个数"><a href="#引用计数器：一个对象，记录自身被引用的个数" class="headerlink" title="引用计数器：一个对象，记录自身被引用的个数"></a>引用计数器：一个对象，记录自身被引用的个数</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#每增加一个引用，这个对象的引用计数会自动+1 （对象被创建，被引用，被作为参数传入函数，作为元素储存在容器中：a = [p1]）</span></span><br><span class="line"><span class="comment">#每减少一个引用，这个对象的引用计数会自动-1  (对象被销毁，对象别名被赋予别的对象，对象离开它的作用域：函数执行完毕之类的，对象所在容器被销毁或从容器中删除对象)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">p1 = Person()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sys.getrefcount(p1))</span><br><span class="line"></span><br><span class="line">p2 = p1</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sys.getrefcount(p1))</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> p2</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sys.getrefcount(p1))</span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> p1</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(sys.getrefcount(p1))</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">3</span></span><br><span class="line"><span class="string">2</span></span><br><span class="line"><span class="string">报错</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#objgraph.count()可以查看，垃圾回收器，跟踪的对象的个数</span></span><br></pre></td></tr></table></figure>

<div class="mermaid">
graph LR
A[怎么找到“循环引用”的？]---B[1.收集到的所有“容器对象”，通过一个双向链表进行引用]
A---C[2.针对于每一个“容器对象”，通过一个变量gc_refs来记录当前对应的引用计数]
A---D[3.对于每个“容器对象”，找到它引用的“容器对象”，并将这个“容器对象”的引用计数减一]
A---E[4.经过步骤3之后，如果一个“容器对象”的引用计数为0，就代表这玩意可以被回收了，肯定是“循环引用”导致它活到现在的]
A1[分代回收]---A2[1.默认一个对象被创建出来后属于0代]
A1---A3[2.如果经历过这一代“垃圾回收”后，依然存活，则划分到下一代]
A1---A4[3.“垃圾回收”的周期顺序为]
A4---A6[0代“垃圾回收”一定次数，会触发0代和1代回收]
A4---A5[1代“垃圾回收”一定次数，会触发0代，1代和2代回收]
</div>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#自动回收</span></span><br><span class="line"><span class="keyword">import</span> gc</span><br><span class="line">gc.disable() <span class="comment">#关闭垃圾回收机制</span></span><br><span class="line"><span class="built_in">print</span>(gc.isenabled())</span><br><span class="line"></span><br><span class="line">gc.enable() <span class="comment">#开启垃圾回收机制（默认自动开启）</span></span><br><span class="line"><span class="built_in">print</span>(gc.isenabled()) <span class="comment">#判断是否开启</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(gc.get_threshold()) <span class="comment">#获取自动回收阈值</span></span><br><span class="line">gc.set_threshold(<span class="number">1000</span>,<span class="number">15</span>,<span class="number">5</span>) <span class="comment">#设置自动回收阈值，1000是新增的对象个数减去消亡的对象个数达到1000开启垃圾回收机制，15是零代触发了多少次后才会触发零代和一代的检测，5是一代触发了多少次之后才会触发零代、一代和二代的检测</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#手动回收</span></span><br><span class="line">gc.collect() <span class="comment">#参数为0收集的是零代垃圾，参数为1是一代垃圾，参数为2是二代垃圾，不写是全部垃圾，就算垃圾回收机制手动关闭了写了这个也自动收集垃圾</span></span><br><span class="line"><span class="comment">#python 2.x只要有一个实现了del方法就不会自动释放</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#循环引用细节问题</span></span><br><span class="line"><span class="keyword">import</span> objgraph</span><br><span class="line"><span class="keyword">import</span> gc</span><br><span class="line"><span class="keyword">import</span> weakref  <span class="comment">#弱引用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Person对象，被释放了&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Dog对象，被释放了&quot;</span>)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">p = Person()</span><br><span class="line">d = Dog()</span><br><span class="line"></span><br><span class="line"><span class="comment">#p.pets = &#123;&quot;dog&quot;:weakref.ref(d1),&quot;cat&quot;:weakref.ref(c1)&#125; #多个目标弱引用</span></span><br><span class="line"><span class="comment">#p.ppets = weakref.WeakValueDictionary(&#123;&quot;dog&quot;:d1,&quot;cat&quot;:c1&#125;)</span></span><br><span class="line">p.pet = d</span><br><span class="line">d.master = p </span><br><span class="line"><span class="comment">#d.master = weakref.ref(p) 形成弱引用，master属性引用p但不会在引用计数器加一，这样就形成了p引用两次，d引用1次</span></span><br><span class="line"></span><br><span class="line">p.pet = <span class="literal">None</span>  <span class="comment">#将d的master属性引用p变成1，改变指向数量减一</span></span><br><span class="line"><span class="keyword">del</span> p  <span class="comment">#将p引用的对象的被引用减一</span></span><br><span class="line"><span class="keyword">del</span> d  <span class="comment">#将d引用的对象的被引用减一</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(objgraph.count(<span class="string">&quot;Person&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(objgraph.count(<span class="string">&quot;Dog&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Dog对象，被释放了</span></span><br><span class="line"><span class="string">Person对象，被释放了</span></span><br><span class="line"><span class="string">0</span></span><br><span class="line"><span class="string">0</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="面向对象三大特性"><a href="#面向对象三大特性" class="headerlink" title="面向对象三大特性"></a>面向对象三大特性</h2><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><p><img src="https://raw.githubusercontent.com/classical-0/img/main/12.png" alt="12.png"></p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/1.png" alt="1.png"></p>
<h3 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>：</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">xxx</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(Animal,xxx):  <span class="comment">#多继承</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Dog.__bases__) <span class="comment">#bases可以查看类继承哪些类，python3.x自动继承自object类</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(Dog.__class__) <span class="comment">#class可以看出Dog类是哪个类的实例化对象</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/classical-0/img/main/4.png" alt="4.png"></p>
<h4 id="资源的继承"><a href="#资源的继承" class="headerlink" title="资源的继承"></a>资源的继承</h4><p>可继承资源：公有，受保护的属性及方法</p>
<p>不可继承资源：私有</p>
<h4 id="资源的使用"><a href="#资源的使用" class="headerlink" title="资源的使用"></a>资源的使用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> inspect</span><br><span class="line"><span class="built_in">print</span>(inspect.getmro(A)) <span class="comment">#可以查看A类的mro继承链</span></span><br><span class="line"></span><br><span class="line">B.mro()</span><br><span class="line">b.__mro__ <span class="comment">#调用mro的方式</span></span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/13.png" alt="13.png"></p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/17.png" alt="17.png"></p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/8.png" alt="8.png"></p>
<p>入栈规则：右边节点先入栈，左边先出栈</p>
<p>python2.2之前的深度优先会导致顺序变为A-&gt;B-&gt;D-&gt;C（错误）</p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/7.png" alt="7.png"></p>
<p>优化了一部份指的是：发现已被处理将前面的略过，以最终为准</p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/2.png" alt="2.png"></p>
<p>队列入队：左边先进右边后进，左边先出</p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/3.png" alt="3.png"></p>
<p>上述问题可以通过C3算法解决</p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/6.png" alt="6.png"></p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/10.png" alt="10.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">D</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#L(D(object)) = [D] + merge(L(object),[object])</span></span><br><span class="line"><span class="comment">#			  = [D] + merge([object],[object])</span></span><br><span class="line"><span class="comment">#			  = [D, object] + merge([],[])</span></span><br><span class="line"><span class="comment">#			  = [D,object]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">D</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#L(B(D)) = [B] + merge(L(D),[D])</span></span><br><span class="line"><span class="comment">#			  = [B] + merge([D,object],[D])</span></span><br><span class="line"><span class="comment">#			  = [B,D] + merge([object],[])</span></span><br><span class="line"><span class="comment">#			  = [B,D,object] + merge([],[])</span></span><br><span class="line"><span class="comment">#			  = [B,D,object]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">D</span>):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#			  = [C,D,object]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>(B,C):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#L(A(B,C)) = [A] + merge(L(B),L(C),[B,C])</span></span><br><span class="line"><span class="comment">#			  = [A] + merge([B,D,object],[C,D,object],[B,C])</span></span><br><span class="line"><span class="comment">#			  = [A,B] + merge([D,object],[C,D,object],[C])</span></span><br><span class="line"><span class="comment">#			  = [A,B,C] + merge([D,object],[D,object],[])</span></span><br><span class="line"><span class="comment">#			  = [A,B,C,D] + merge([object],[object],[])</span></span><br><span class="line"><span class="comment">#			  = [A,B,C,D,object] + merge([],[],[])</span></span><br><span class="line"><span class="comment">#			  = [A,B,C,D,object]</span></span><br></pre></td></tr></table></figure>

<p>拓扑排序：</p>
<p><img src="https://raw.githubusercontent.com/classical-0/img/main/16.png" alt="16.png"></p>
<h4 id="资源的覆盖"><a href="#资源的覆盖" class="headerlink" title="资源的覆盖"></a>资源的覆盖</h4><p>只有优先级比较高的类才能去覆盖优先级比较低的类的资源</p>
<h4 id="资源的累加"><a href="#资源的累加" class="headerlink" title="资源的累加"></a>资源的累加</h4><p><img src="https://raw.githubusercontent.com/classical-0/img/main/13.png" alt="11.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        b=<span class="number">2</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    	B.__init__(<span class="variable language_">self</span>)  <span class="comment">#通过这种方式可以传入A实例调用B的方法，在菱形继承中有重复执行的可能性</span></span><br><span class="line">       </span><br><span class="line">    </span><br><span class="line"><span class="comment">#在低优先级类的方法中，通过“super”调用高优先级类的方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        b=<span class="number">2</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    	<span class="built_in">super</span>(A,<span class="variable language_">self</span>).__init__(<span class="variable language_">self</span>) <span class="comment">#super(type, self) 会从 self 所属类的 MRO 中，找到 type 之后的下一个父类。当传入第二个参数 obj 时，super() 会返回一个绑定到 obj 的父类代理对象，调用父类方法时会自动将 obj 作为 self 参数传入。</span></span><br><span class="line"><span class="comment">#在 Python 3 中，super() 可以不带参数直接使用（如 super().method()），此时：</span></span><br><span class="line"><span class="comment">#在实例方法中，默认等价于 super(type(self), self)</span></span><br><span class="line"><span class="comment">#在类方法中，默认等价于 super(type(cls), cls)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#第一个参数尽量不要写self.__class__</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/classical-0/img/main/5.png" alt="5.png"></p>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#相同的方法拥有不同的形态</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">jiao</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">jiao</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;汪汪汪&quot;</span>)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span>(<span class="title class_ inherited__">Animal</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">jiao</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;喵喵喵&quot;</span>) </span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>(<span class="params">obj</span>):</span><br><span class="line">    obj.jiao()</span><br><span class="line">    </span><br><span class="line">d = Dog()</span><br><span class="line">c = Cat()</span><br><span class="line">test(d) <span class="comment">#print&quot;汪汪汪&quot;/输入c，print“喵喵喵”</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/classical-0/img/main/14.png" alt="14.png"></p>
<p>别的语言多态是静态语言，要检测是否是需要的父类的子类，而python是动态内存语言，所有的东西都是对象，观察你有没有这个方法，没有就报错</p>
<div class="mermaid">
graph LR
A[补充]---B[抽象类]
B---B1[一个抽象出来的类，并不是某个具象的类]
B---B2[不能直接创建实例的类]---B3[创建会报错]
A---C[抽象方法]
C---C1[抽象出来的一个方法]
C---C2[不具备具体实现，不能直接调用]---C3[子类不实现会报错]
</div>

<p><img src="https://raw.githubusercontent.com/classical-0/img/main/9.png" alt="9.png"></p>
<p>不能实现一个抽象类的方法，继承自抽象类的类必须实现抽象类的方法</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://classical-0.github.io">小羊</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://classical-0.github.io/2025/08/18/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/">http://classical-0.github.io/2025/08/18/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://classical-0.github.io" target="_blank">classical.</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250716172926.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/07/15/o/" title="o"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">o</div></div><div class="info-2"><div class="info-item-1">   i have a boyfriend,his name is Bai Mingxiu,he is my first lover,i love him now. </div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250716172926.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">小羊</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://mail.qq.com/cgi-bin/frame_html?sid=DdTu5zhxMtGmx0Yu&amp;r=29af1364f8ac3adca5fee6ecb77262bc&amp;lang=zh" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">这里没有什么好东西，快走吧！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%EF%BC%88python%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">面向对象编程（python）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%90%86%E8%AE%BA"><span class="toc-number">1.1.</span> <span class="toc-text">基本理论</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.1.1.</span> <span class="toc-text">什么是对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB"><span class="toc-number">1.1.2.</span> <span class="toc-text">类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">类的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">类的组成</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">对象和类的关系</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9C%A8python%E4%B8%AD%E7%9A%84%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.2.</span> <span class="toc-text">面向对象在python中的实践</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E7%B1%BB"><span class="toc-number">1.2.1.</span> <span class="toc-text">如何定义一个类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%B9%E6%8D%AE%E7%B1%BB%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.2.</span> <span class="toc-text">根据类实例化对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%9B%B8%E5%85%B3"><span class="toc-number">1.2.3.</span> <span class="toc-text">属性相关</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">对象属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">类属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%99%90%E5%88%B6%E5%B1%9E%E6%80%A7%E7%9A%84%E6%B7%BB%E5%8A%A0"><span class="toc-number">1.2.3.3.</span> <span class="toc-text">限制属性的添加</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9B%B8%E5%85%B3"><span class="toc-number">1.2.4.</span> <span class="toc-text">方法相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A1%A5%E5%85%85"><span class="toc-number">1.2.5.</span> <span class="toc-text">补充</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B1%BB%E7%9B%B8%E5%85%B3%E8%A1%A5%E5%85%85"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">类相关补充</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%83%E7%B1%BB"><span class="toc-number">1.2.5.1.1.</span> <span class="toc-text">元类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B1%BB%E7%9A%84%E6%8F%8F%E8%BF%B0"><span class="toc-number">1.2.5.1.2.</span> <span class="toc-text">类的描述</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E7%9B%B8%E5%85%B3%E8%A1%A5%E5%85%85"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">属性相关补充</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E5%8C%96%E5%B1%9E%E6%80%A7"><span class="toc-number">1.2.5.2.1.</span> <span class="toc-text">私有化属性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%AA%E8%AF%BB%E5%B1%9E%E6%80%A7"><span class="toc-number">1.2.5.2.2.</span> <span class="toc-text">只读属性</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#property%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">1.2.5.2.2.1.</span> <span class="toc-text">property装饰器</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7"><span class="toc-number">1.2.5.2.3.</span> <span class="toc-text">内置特殊属性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9B%B8%E5%85%B3%E8%A1%A5%E5%85%85"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">方法相关补充</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E5%8C%96%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.5.3.0.1.</span> <span class="toc-text">私有化方法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E7%89%B9%E6%AE%8A%E6%96%B9%E6%B3%95"><span class="toc-number">1.2.5.3.0.2.</span> <span class="toc-text">内置特殊方法</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">Python对象的生命周期，以及周期方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%AF%B9%E8%B1%A1%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">1.3.1.</span> <span class="toc-text">监听对象生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6"><span class="toc-number">1.3.2.</span> <span class="toc-text">内存管理机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%96%B9%E9%9D%A2"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">垃圾回收方面</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E5%99%A8%EF%BC%9A%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1%EF%BC%8C%E8%AE%B0%E5%BD%95%E8%87%AA%E8%BA%AB%E8%A2%AB%E5%BC%95%E7%94%A8%E7%9A%84%E4%B8%AA%E6%95%B0"><span class="toc-number">1.3.2.1.1.</span> <span class="toc-text">引用计数器：一个对象，记录自身被引用的个数</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E4%B8%89%E5%A4%A7%E7%89%B9%E6%80%A7"><span class="toc-number">1.4.</span> <span class="toc-text">面向对象三大特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%81%E8%A3%85"><span class="toc-number">1.4.1.</span> <span class="toc-text">封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">1.4.2.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%9A%84%E7%BB%A7%E6%89%BF"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">资源的继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">资源的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%9A%84%E8%A6%86%E7%9B%96"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">资源的覆盖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%9A%84%E7%B4%AF%E5%8A%A0"><span class="toc-number">1.4.2.4.</span> <span class="toc-text">资源的累加</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">1.4.3.</span> <span class="toc-text">多态</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/08/18/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B%E5%AD%A6%E4%B9%A0/" title="面向对象程序设计">面向对象程序设计</a><time datetime="2025-08-18T08:12:36.000Z" title="发表于 2025-08-18 16:12:36">2025-08-18</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/15/o/" title="o">o</a><time datetime="2025-07-15T15:14:18.000Z" title="发表于 2025-07-15 23:14:18">2025-07-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/07/15/hello-world/" title="Hello World">Hello World</a><time datetime="2025-07-15T13:10:30.000Z" title="发表于 2025-07-15 21:10:30">2025-07-15</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url(/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20250716172926.png);"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;2025 By 小羊</span><span class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.4.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="true"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html><script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script><script>function initMermaid() {
  console.log("Attempting to initialize Mermaid...");
  if (typeof mermaid !== 'undefined') {
    
    // 处理被代码高亮插件分割的Mermaid代码
    var mermaidContainers = document.querySelectorAll('code.language-mermaid, pre.language-mermaid');
    
    mermaidContainers.forEach(function(container) {
      // 创建一个新的div来存放Mermaid代码
      var mermaidDiv = document.createElement('div');
      mermaidDiv.className = 'mermaid';
      
      // 提取文本内容 - 处理被分割成多行span的情况
      var fullCode = '';
      var lineSpans = container.querySelectorAll('span.line');
      
      if (lineSpans.length > 0) {
        // 如果代码被分割成多个span.line元素
        lineSpans.forEach(function(span) {
          fullCode += span.textContent + '\n';
        });
      } else {
        // 如果是完整的代码块
        fullCode = container.textContent || container.innerText;
      }
      
      // 设置Mermaid代码
      mermaidDiv.textContent = fullCode;
      
      // 用新的div替换原始容器
      if (container.parentNode) {
        container.parentNode.replaceChild(mermaidDiv, container);
      } else {
        // 如果没有父节点，直接添加到body（备用方案）
        document.body.appendChild(mermaidDiv);
      }
    });
    
    console.log("Found and processed Mermaid containers:", mermaidContainers.length);
    
    // 初始化并渲染
    mermaid.initialize({
      startOnLoad: true,
      theme: 'default',
      flowchart: { useMaxWidth: true }
    });
    mermaid.init();
    console.log("Mermaid initialization executed.");
    
  } else {
    console.error("Mermaid library not found!");
  }
}

// 使用多种方式确保执行
if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', initMermaid);
} else {
  setTimeout(initMermaid, 100); // 稍微延迟执行
}
window.addEventListener('load', initMermaid);</script>